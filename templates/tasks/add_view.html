{% extends 'tasks/../base/nav_bar.html' %}
{% block staticfiles %}{% load static from staticfiles %}{% endblock %}
<!DOCTYPE html>
<html lang="en">
<head>
    {% block cus_design %}
    <meta charset="UTF-8">
    <title>Home</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <link href="{% static 'bootstrap/css/bootstrap.css' %}" rel="stylesheet" type="text/css"/>
    <script src="{% static 'bootstrap/js/bootstrap.js' %}"></script>
    {{ form.media }}
    {% endblock %}
</head>
<body>
{% block body %}
    <div class="container">
    <form method="post" action="{% url 'tasks:add_proj' %}">{% csrf_token %}
        <div class="row">
            <div class="card">
                <div class="col s6">
                    <button type="button" id="pick_add_proj" class="waves-effect waves-light btn-large">Project</button>
                </div>
                <div class="col s6">
                    <button type="button" id="pick_add_milestone" class="waves-effect waves-light btn-large">Milestone</button>
                </div>
            </div>
        </div>

        <div id="pick_add_milestone_id" hidden>
            {% if existing_project %}
                    <div class="row">
                        <div class="col s6">
                            <input class="form-control" type="text" placeholder="Name of Milestone" name="milestone_name">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col s6">
                        <label><h3>What project is this for?</h3></label>
                            <select class="browser-default" name="name_of_mil_proj">
                                {% for proj in existing_project %}
                                    <option value="{{ proj }}">{{ proj }}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="row">
                            <label>
                               <h3> When will this be done by? </h3>
                            </label>
                        </div>
                        <div class="col s6">
                            <input type="datetime-local" name="done_by_mil">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col s6">
                            <label><h4>About how long will this take to complete?</h4></label>
                            <select id="new_task_end_time" name="length_of_time" class="browser-default">
                                <option value="" selected>hours</option>
                                <option value="-1">less than an hour</option>
                                <option value="1">an hour</option>
                                <option value="2">two hours</option>
                                <option value="3">three hours</option>
                                <option value="4">four hours</option>
                                <option value="5">five hours</option>
                            </select>
                        </div>
                    </div>
                        <button type="submit" id="" name="mil_create" class="btn waves-effect waves-ligh">Create Milestone</button>
            {% else %}
                <div class="row">
                    <h3>Sorry can't create a milestone without an existing project</h3>
                </div>
            {% endif %}
        </div>



        <div hidden id="pick_add_proj_id">
            <div class="row">
                <h4>What's the goal of this project?</h4>
                <div class="col s6">
                    <input type="radio" id="ls_proj" name="type_of_project" value="learn something"/>
                    <label for="ls_proj">Learn Something New </label>
                </div>
                <div class="col s6">
                    <input type="radio" id="ls_build" name="type_of_project" value="learn something"/>
                     <label for="ls_build">Build/Create Something </label>
                </div>
            </div>
            <div hidden id="proj_form">
                <div class="row">
                    <input id="user_plan" placeholder="" class="form-control" type="text" name="name_of_project">
                </div>
                <div class="row">
                    <h4>What best describes your motivation?</h4>
                    {% for tag in tag_names %}
                        <input type="checkbox" id="id{{ tag }}" name="tags[]" value="{{ tag.name_of_tag }}">
                        <label for="id{{ tag }}">{{ tag.name_of_tag }}&nbsp;</label>
                    {% endfor %}
                </div>
                <div class="row">
                    <div class="col s6">
                        <label>Give us a time when we can celebrate your finished work?</label>
                    <input type="datetime-local" name="done_by_proj">
                    </div>

                </div>
                <div class="row">
                    <div class="col s4">
                        <button type="submit" id="" name="proj_create" class="btn waves-effect waves-ligh">Start Project</button>
                    </div>
                    <div class="col s4">
                        <button type="submit" id="" name="proj_save" class="btn waves-effect waves-ligh">Save Project</button>
                    </div>
                </div>
            </div>
        </div>
     </form>
    </div>
        <script>
            $("#pick_add_proj").click(function(){
                $("#pick_add_proj_id").toggle(1000);
                $("#pick_add_milestone_id").hide(1000);
            });
            $("#ls_proj").change(function(){
                console.log("make it work");
                $("#proj_form").show(1000);
                $("#user_plan").attr('placeholder', 'What do you want to learn?')
            });
            $("#ls_build").change(function(){
                console.log("make it work");
                $("#proj_form").show(1000);
                $("#user_plan").attr('placeholder', 'What do you want to build/create?')
            });
             $("#pick_add_milestone").click(function(){
                 $("#pick_add_milestone_id").toggle(1000);
                 $("#pick_add_proj_id").hide(1000);
                 console.log("no small");
            });
        </script>
{% endblock %}
</body>
</html>